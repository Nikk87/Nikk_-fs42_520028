<script>
    function generatePassword(length, includeNumbers = true, includeSpecialChars = false) {
    const upperCaseChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const lowerCaseChars = "abcdefghijklmnopqrstuvwxyz";
    const numberChars = "0123456789";
    const specialChars = "@#$%!&*?";
    if (length < 4) {
        throw new Error("Password length must be at least 4 to meet all requirements.");
    }
    let requiredChars = upperCaseChars[Math.floor(Math.random() * upperCaseChars.length)];

    if (includeNumbers) {
        requiredChars += numberChars[Math.floor(Math.random() * numberChars.length)];
    }

    if (includeSpecialChars) {
        requiredChars += specialChars[Math.floor(Math.random() * specialChars.length)];
    }
    const allChars = upperCaseChars + lowerCaseChars + (includeNumbers ? numberChars : "") + (includeSpecialChars ? specialChars : "");
    let password = requiredChars;

    while (password.length < length) {
        password += allChars[Math.floor(Math.random() * allChars.length)];
    }
    password = password.split('').sort(() => 0.5 - Math.random()).join('');

    return password;
}
console.log(generatePassword(10)); 
console.log(generatePassword(12, true, true)); 
console.log(generatePassword(8, false, true)); 

</script>